<div class="container chat-container border rounded p-4 mt-5 " style="max-width: 500px;" data-channel-id="<%= @channel.id %>">
   <div class="chat-heading mb-3">
      <i class="bi bi-chat-dots"></i>
      <% if current_user.role == 'chef' %>
      <% other_user = User.find(@channel.employee.id) %>
      <h1>Chatting with <%= other_user.username %></h1>
      <% elsif current_user.role == 'employee' %>
      <% other_user = User.find(@channel.chef.id) %>
      <h1>Chatting with <%= other_user.username %></h1>
      <% end %>
   </div>
   <div id="messages" class="message-container overflow-auto" >
      <% @messages.reverse_each do |message| %>
      <div class="message <%= message.sender_id == current_user.id ? 'sent' : 'received' %>">
         <div class="message-content <%= message.sender_id == current_user.id ? 'sent' : '' %>">
            <%= message.content %>
            <div class="sender-info timestamp">
               <%= User.find(message.sender_id).name %> - <%= message.created_at.in_time_zone("Asia/Kolkata").strftime('%m/%d/%Y, %l:%M %p') %>
            </div>
         </div>
      </div>
      <% end %>
   </div>
   <%= form_with(model: @message, url: send_message_channel_path(@channel), local: false, id: "message_form") do |form| %>
   <div class="mt-4"></div>
   <div class="input-group mt-3">
      <%= form.text_field :content, class: "form-control", placeholder: "Type your message", id: "message_content" %>
      <button type="submit" class="btn btn-primary" id="send_message_button">
      Send <i class="bi bi-arrow-right-circle"></i>
      </button>
   </div>
   <% end %>
   <div class="mt-3">
      <%= link_to 'Back', employee_dashboard_index_path, class: 'btn btn-secondary' %>
      <i class="bi bi-arrow-left"></i>
   </div>
</div>